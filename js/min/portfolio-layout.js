!function(t){function o(){this.portfolioContainer=null,this.closest_portfolio=null,this.isotopeAction=null,this.init=function(t,o){this.portfolioContainer=t.find(".portfolio-container"),this.closest_portfolio=t,this.setColumnWidth(),this.isotopeAction=o},this.getContainerWidth=function(){return this.closest_portfolio.width()},this.setContainerWidth=function(t){this.portfolioContainer.width(t)},this.gutter_width=function(){return Number(this.closest_portfolio.attr("data-gutter-width"))},this.elementNormalHeight=function(){var t=this.portfolioContainer.find(".element.no-wide-width-height:visible").find(".flip-wrap").height();return t&&0!=t||(t=this.portfolioContainer.find(".element.wide-width:visible").find(".flip-wrap").height()),t&&0!=t||(t=this.portfolioContainer.find(".element.wide-width-height:visible").find(".flip-wrap").height()),t&&0!=t||(t=this.portfolioContainer.find(".element.wide-height:visible").find(".flip-wrap").width(),console.log(t)),t},this.noOfColumns=function(){var o=t(window).width()+t.getScrollbarWidth();if(1280>o&&o>=768)switch(this.closest_portfolio.attr("data-col")){case"two":return 2;default:return 3}else{if(768>o&&o>481)return 4;if(481>=o)return 2;switch(this.closest_portfolio.attr("data-col")){case"five":return 5;case"four":return 4;case"three":return 3;case"two":return 2;default:return 5}}},this.getRoundedWidth=function(){for(var t=this.getContainerWidth();t%this.noOfColumns()!==0;)t+=1;return this.setContainerWidth(t),t},this.setColumnWidth=function(){this.columnWidth=this.getRoundedWidth()/this.noOfColumns()},this.multiGridSetup=function(){var t=this;this.portfolioContainer.imagesLoaded(function(){var o=t.elementNormalHeight(),e=t.gutter_width();t.closest_portfolio.hasClass("full-screen-gutter")&&1!=Number(t.closest_portfolio.attr("data-masonry"))&&(t.portfolioContainer.find(".wide-width-height, .wide-height").find(".flip-img-wrap").height(2*o+e),t.portfolioContainer.find(".wide-width").find(".flip-img-wrap").height(o),t.portfolioContainer.find(".element.wide-width-height, .element.wide-height, .element.wide-width").find(".element-inner .flip-wrap .flip-img-wrap img").resizeToParent()),"initial"==t.isotopeAction?t.applyIsotope():t.portfolioContainer.isotope("layout")})},this.applyIsotope=function(){var t=this.columnWidth;this.portfolioContainer.isotope({itemSelector:".element",masonry:{columnWidth:t},layoutMode:"packery"}).isotope("on","layoutComplete",function(t){Waypoint.refreshAll()}),this.delayLoad(this.portfolioContainer)},this.appendIsotope=function(t){var o=t;this.portfolioContainer.append(o).isotope("appended",o).isotope("on","layoutComplete",function(t){Waypoint.refreshAll()}),this.delayLoad(this.portfolioContainer)},this.delayLoad=function(o){if(o.hasClass("portfolio-shortcode")){var e=1;o.find(".element").each(function(){t(this).find("img").one("load",function(){t(this).parent().delay(e).addClass("img-loaded",300),e+=200}).each(function(){this.complete&&t(this).load()})})}},this.applyFilters=function(t,o){t.closest(".filters").find(".sort").removeClass("current_choice"),t.addClass("current_choice"),this.portfolioContainer.isotope({filter:"."+o,layoutMode:"packery"}),this.applyIsotope()},this.portfolioParallaxSetup=function(){this.portfolioContainer.hasClass("portfolio-item-parallax")&&(this.portfolioContainer.parentsUntil(".be-section").css("overflow","visible"),this.portfolioContainer.closest(".be-section").css("overflow","visible"),this.portfolioContainer.css("overflow","visible").find(".element").css("overflow","visible"))}}function e(e){var i=[],a=0;e.each(function(){i[a]=new o,i[a].init(t(this),"initial"),i[a].multiGridSetup(),i[a].portfolioParallaxSetup(),a++})}function i(t,o,e){var i=o,a=t,r="";switch(e){case"portfolio":return $action=i.attr("data-action"),$col=i.attr("data-col"),$data_gutter_width=Number(i.attr("data-gutter-width")),$category=i.attr("data-category"),$masonry=i.attr("data-masonry"),$showposts=i.attr("data-showposts"),$gallery=i.attr("data-gallery"),$filter=i.attr("data-filter"),$show_filters=i.attr("data-show_filters"),$data_thumbnail_bg_color=i.attr("data-thumbnail-bg-color"),$data_title_style=i.attr("data-title-style"),$data_title_color=i.attr("data-title-color"),$data_cat_color=i.attr("data-cat-color"),$title_animation_type=i.attr("data-title-animation-type"),$cat_animation_type=i.attr("data-cat-animation-type"),$img_grayscale=i.attr("data-img-grayscale"),$image_effect=i.attr("data-image-effect"),$gradient_style_color=i.attr("data-gradient-style-color"),$data_hover_style=i.attr("data-hover-style"),$dat_cat_hide=i.attr("data-cat-hide"),r="action="+$action+"&category="+$category+"&masonry="+$masonry+"&showposts="+$showposts+"&col="+$col+"&gallery="+$gallery+"&filter="+$filter+"&show_filters="+$show_filters+"&thumb_overlay_color="+$data_thumbnail_bg_color+"&title_style="+$data_title_style+"&title_color="+$data_title_color+"&cat_color="+$data_cat_color+"&title_animation_type="+$title_animation_type+"&cat_animation_type="+$cat_animation_type+"&gutter_width="+$data_gutter_width+"&hover_style="+$data_hover_style+"&img_grayscale="+$img_grayscale+"&image_effect="+$image_effect+"&gradient_style_color="+$gradient_style_color+"&cat_hide="+$dat_cat_hide,r;case"gallery":return $action=i.attr("data-action"),$masonry=i.attr("data-masonry"),$source=i.attr("data-source"),$gutter_width=i.attr("data-gutter-width"),$col=i.attr("data-col"),$data_gutter_width=Number(i.attr("data-gutter-width")),$images_arr=i.attr("data-images-array"),$items_per_load=i.attr("data-items-per-load"),$hover_style=i.attr("data-hover-style"),$img_grayscale=i.attr("data-image-grayscale"),$lightbox_type=i.attr("data-lightbox-type"),$image_source=i.attr("data-image-source"),$image_effect=i.attr("data-image-effect"),$thumb_overlay_color=i.attr("data-thumb-overlay-color"),$gradient_style_color=i.attr("data-thumb-overlay-color"),$like_button=i.attr("data-like-button"),r="action="+$action+"&masonry="+$masonry+"&source="+$source+"&gutter_width="+$gutter_width+"&col="+$col+"&data_gutter_width="+$data_gutter_width+"&images_arr="+$images_arr+"&items_per_load="+$items_per_load+"&hover_style="+$hover_style+"&img_grayscale="+$img_grayscale+"&lightbox_type="+$lightbox_type+"&image_source="+$image_source+"&image_effect="+$image_effect+"&thumb_overlay_color="+$thumb_overlay_color+"&gradient_style_color="+$gradient_style_color+"&like_button="+$like_button,r;case"blog":return $total_items=a.attr("data-total-items"),$action=i.attr("data-action"),$showposts=i.attr("data-showposts"),$data_gutter_width=Number(i.attr("data-gutter-width")),r="action="+$action+"&showposts="+$showposts+"&gutter_width="+$data_gutter_width+"&total_items="+$total_items,r}}function a(e,a,r,s){var d=e,c=a,h=r;new Waypoint({element:d,handler:function(e){if("down"===e){var a=this,r=t(".page-loader");a.disable(),r.fadeIn(),t.ajax({type:"POST",url:f,data:i(d,c,s)+"&paged="+h}).done(function(e){if(0!==e&&"0"!==e&&e){var i=t(e);i.imagesLoaded(function(){portfolioModuleInst=new o,portfolioModuleInst.init(c,"append"),portfolioModuleInst.appendIsotope(i),portfolioModuleInst.multiGridSetup(),"portfolio"==s&&(n(),t(".element.style3-hover .element-inner").each(function(){t(this).hoverdir()}),t(".element.style4-hover .element-inner").each(function(){t(this).hoverdir({inverse:!0})})),"gallery"==s&&n(),"blog"==s&&(n(),i.find(".be_image_slider").each(function(){var o=t(this).find(".image_slider_module");l(o)}),i.fitVids()),a.enable(),h=Number(h)+1,r.fadeOut()})}else a.destroy(),r.fadeOut()})}},offset:"bottom-in-view"})}function r(e,a,r,s){var d=e,c=a,h=r,u=t(".page-loader");u.fadeIn(),d.addClass("disabled"),t.ajax({type:"POST",url:f,data:i(d,c,s)+"&paged="+h,success:function(e){if(0!==e&&"0"!==e&&e){var i=t(e);i.imagesLoaded(function(){portfolioModuleInst=new o,portfolioModuleInst.init(c,"append"),portfolioModuleInst.multiGridSetup(),portfolioModuleInst.appendIsotope(i),"portfolio"==s&&(n(),t(".element.style3-hover .element-inner").each(function(){t(this).hoverdir()}),t(".element.style4-hover .element-inner").each(function(){t(this).hoverdir({inverse:!0})})),"gallery"==s&&n(),"blog"==s&&(n(),i.find(".be_image_slider").each(function(){var o=t(this).find(".image_slider_module");l(o)}),i.fitVids()),c.attr("data-paged",Number(h)+1),d.attr("data-total-items",function(){return Number(t(this).attr("data-total-items"))-i.find(".element-inner").length}),d.attr("data-total-items")<=0&&d.fadeOut(500,function(){d.remove()}),d.removeClass("disabled"),u.fadeOut()})}else d.addClass("disabled"),u.fadeOut()}})}function l(t){var o=t,e=o.attr("data-auto-slide"),i=1e3;"no"==e?e=!1:(e=!0,i=o.attr("data-slide-interval")),o.owlCarousel({items:1,autoHeight:!0,autoplay:e,autoplayTimeout:i,autoplaySpeed:1e3,autoplayHoverPause:!0,navRewind:!1,nav:!0,loop:!0,navText:['<i class="font-icon icon-arrow_carrot-left"></i>','<i class="font-icon icon-arrow_carrot-right"></i>'],dots:!1,onInitialize:function(){o.fadeIn(500),o.trigger("refresh.owl.carousel")}})}function n(){t(".image-popup-vertical-fit").length>0&&t(".image-popup-vertical-fit").magnificPopup({mainClass:"mfp-img-mobile my-mfp-zoom-in",closeOnContentClick:!0,gallery:{enabled:!0},image:{verticalFit:!0,titleSrc:"title"},zoom:{enabled:!0,duration:300},preloader:!0,type:"inline",overflowY:"auto",removalDelay:300,callbacks:{afterClose:function(){t("body").hasClass("smooth-scroll")&&t("html").css("overflow-y","scroll")},open:function(){t("body").addClass("mfp-active-state"),t("#main").hasClass("layout-border")&&t(".mfp-content").addClass("layout-border")},close:function(){t("body").removeClass("mfp-active-state")}}}),t(".popup-gallery").length>0&&t(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'},preloader:!0,callbacks:{afterClose:function(){t("body").hasClass("smooth-scroll")&&t("html").css("overflow-y","scroll")},open:function(){t("body").addClass("mfp-active-state"),t("#main").hasClass("layout-border")&&t(".mfp-content").addClass("layout-border")},close:function(){t("body").removeClass("mfp-active-state")}}}),t(".popup-with-content").length>0&&t(".popup-with-content").magnificPopup({type:"inline",preloader:!1})}function s(){t(".trigger_infinite_scroll.portfolio_infinite_scroll").length>0&&t(".trigger_infinite_scroll.portfolio_infinite_scroll").each(function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));a(o,e,i,"portfolio")})}function d(){t(".trigger_infinite_scroll.gallery_infinite_scroll").length>0&&t(".trigger_infinite_scroll.gallery_infinite_scroll").each(function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));a(o,e,i,"gallery")})}function c(){t(".trigger_infinite_scroll.blog_infinite_scroll").length>0&&t(".trigger_infinite_scroll.blog_infinite_scroll").each(function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));a(o,e,i,"blog")})}var f=t("#ajax_url").val();t(document).ready(function(){if(t(".portfolio").length>0){t("html").addClass("show-overflow");var i=t(".portfolio");e(i),s(),d(),c()}t(document).on("click",".sort",function(){portfolioModuleFilter=new o;var e=t(this),i=e.attr("data-id");portfolioModuleFilter.init(e.closest(".portfolio")),portfolioModuleFilter.applyFilters(e,i)}),t(document).on("click",".trigger_load_more.portfolio_load_more:not(.disabled)",function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));r(o,e,i,"portfolio")}),t(document).on("click",".trigger_load_more.gallery_load_more:not(.disabled)",function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));r(o,e,i,"gallery")}),t(document).on("click",".trigger_load_more.blog_load_more:not(.disabled)",function(){var o=t(this),e=o.closest(".portfolio"),i=Number(e.attr("data-paged"));r(o,e,i,"blog")})}),t(window).smartresize(function(){if(t(".portfolio").length>0){var o=t(".portfolio");e(o)}}),t(document).on("update_content",function(){if(t(".portfolio").length>0){var o=t(".portfolio");e(o),Waypoint.destroyAll(),s(),d(),c()}})}(jQuery);